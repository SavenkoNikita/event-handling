(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(e=s.currentScript.src),!e)){var i=s.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=i[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"f5dd120b7712081cad61.png",s=t.p+"2dbd01ce16c0fa83cb67.png";class i{constructor(t){this.board=t,this.currentCell=null,this.wasClicked=!1}setBoard(t){this.board=t}move(){this.currentCell&&(this.currentCell.innerHTML="");const t=Array.from(this.board.querySelectorAll(".cell")),e=Math.floor(Math.random()*t.length);this.currentCell=t[e];const i=document.createElement("img");i.src=s,i.className="goblin",i.alt="Гоблин",this.currentCell.appendChild(i)}hide(){this.currentCell&&(this.currentCell.innerHTML="",this.wasClicked=!0)}}class r{constructor(){this.board=document.getElementById("gameBoard"),this.scoreElement=document.getElementById("score"),this.missedElement=document.getElementById("missed")}createBoard(){for(let t=0;t<16;t++){const t=document.createElement("div");t.classList.add("cell"),this.board.appendChild(t)}}updateScore(t){this.scoreElement.textContent=`Счёт: ${t}`}updateMissed(t){this.missedElement.textContent=`Промахов: ${t}`}}document.documentElement.style.setProperty("--hammer-cursor",`url(${e}), auto`),(new class{constructor(){this.ui=new r,this.goblin=new i(this.ui.board),this.score=0,this.missed=0,this.maxMissed=5,this.interval=null}start(){this.ui.createBoard(),this.goblin.setBoard(this.ui.board),this.interval=setInterval(()=>{this.goblin.move(),this.checkMissed()},1e3),this.ui.board.addEventListener("click",t=>this.handleClick(t))}handleClick(t){t.target.classList.contains("goblin")&&(this.score++,this.ui.updateScore(this.score),this.goblin.hide())}checkMissed(){this.goblin.wasClicked||(this.missed++,this.ui.updateMissed(this.missed),this.missed>=this.maxMissed&&(clearInterval(this.interval),alert("Игра окончена!"))),this.goblin.wasClicked=!1}}).start()})();